(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{1881:function(e,t,r){},2772:function(e,t,r){var n=r(31);n(n.S,"Number",{isNaN:function(e){return e!=e}})},2773:function(e,t,r){"use strict";var n=r(1881);r.n(n).a},2924:function(e,t,r){"use strict";r.r(t);r(39),r(24),r(124),r(17),r(2772),r(13);var n=r(2),o=(r(28),r(1)),c=r(10),f=r(2054),d=r(2053),l=r(1485),m=r(2052),h=r(2055),v=r(2056),I=r(1265),y=r(2057),_=r(1315),M=r(2058),U=r(1486),C={components:{UserHeatmap:f.a,UserLabInfoBox:h.a,UserInfoBanner:d.a,UserVisitorBox:y.a,ModalVipInvite:l.a,ModalJoinPrivate:_.a,UserCertificatesBox:M.a,UserDetailContents:m.a,ModalCreateCourse:U.a,ModalDeleteRecord:v.a,ModalHundredLevel:I.a},computed:Object(o.a)({},Object(c.d)("user",{userMedals:function(e){return e.userMedals},userVisitors:function(e){return e.userVisitors},userPublicInfo:function(e){return e.userPublicInfo},userCertificates:function(e){return e.userCertificates},userStudyRecords:function(e){return e.userStudyRecords},hundredLevelUserInfo:function(e){return e.hundredLevelUserInfo}}),{userInfo:function(){return this.isMyself?this.$auth.user:this.userPublicInfo},isTeacher:function(){return!!this.userInfo.teacher_info},pageTitle:function(){var e="";return e=this.isMyself?this.$auth.user.name:this.userPublicInfo.name,"".concat(e,"的个人主页")}}),asyncData:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(t){var r,n,o,c,f,d,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.error,n=t.store,o=t.redirect,c=t.app.$auth,(f=+(f=t.params.userId))&&!Number.isNaN(f)){e.next=4;break}return e.abrupt("return",r({statusCode:404,message:"Not found"}));case 4:if(!(d=c.loggedIn&&c.user.id===f)){e.next=7;break}return e.abrupt("return",o("/user"));case 7:return l=[n.dispatch("user/getUserStudyRecords",{userId:f}),n.dispatch("user/getUserVisitors",{userId:f}),n.dispatch("user/getUserMedals",{userId:f}),n.dispatch("user/getUserCertificates",{userId:f}),n.dispatch("user/getHundredLevelUserInfo",{userId:f}),n.dispatch("user/getUserPublicInfo",{userId:f})],e.next=10,Promise.all(l);case 10:if(n.state.user.userPublicInfo.id){e.next=13;break}return e.abrupt("return",r({statusCode:404,message:"Not found"}));case 13:return e.abrupt("return",{isMyself:d});case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),head:function(){return{title:this.pageTitle,script:[{src:"https://static.shiyanlou.com/frontend/static/libs/d3/d3.min.js"},{src:"https://static.shiyanlou.com/frontend/static/libs/moment/moment.min.js"},{src:"https://static.shiyanlou.com/frontend/static/libs/calendar-heatmap/calendar-heatmap-v2.js"}]}}},x=(r(2773),r(5)),component=Object(x.a)(C,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("single-page",[r("user-info-banner",{attrs:{"is-myself":e.isMyself,"user-info":e.userInfo}}),e._v(" "),r("b-row",[r("b-col",{staticClass:"content-side content-left",attrs:{md:"3"}},[e.isMyself?r("user-lab-info-box",{attrs:{"user-info":e.userInfo}}):e._e(),e._v(" "),e.userCertificates.length?r("user-certificates-box",{attrs:{certificates:e.userCertificates}}):e._e(),e._v(" "),r("user-visitor-box",{attrs:{"user-visitors":e.userVisitors}})],1),e._v(" "),r("b-col",{staticClass:"content-side content-right",attrs:{md:"9"}},[r("common-content",[r("user-heatmap",{attrs:{"user-study-record":e.userStudyRecords,"user-id":e.userInfo.id}})],1),e._v(" "),r("common-content",[r("user-detail-contents",{attrs:{"user-info":e.userInfo,"is-myself":e.isMyself}})],1)],1)],1),e._v(" "),r("template",{slot:"modals"},[e.isMyself&&e.userInfo.member_type?r("modal-vip-invite"):e._e(),e._v(" "),e.isMyself?r("modal-join-private"):e._e(),e._v(" "),e.isMyself&&e.isTeacher?r("modal-create-course"):e._e(),e._v(" "),e.isMyself?r("modal-delete-record"):e._e(),e._v(" "),e.userInfo.level>99?r("modal-hundred-level",{attrs:{"user-info":e.userInfo}}):e._e()],1)],2)},[],!1,null,"4ebf6ab4",null);t.default=component.exports}}]);