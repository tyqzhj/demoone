(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{1144:function(t,e,n){},1329:function(t,e,n){t.exports=n.p+"img/fe0c330.png"},1330:function(t,e,n){t.exports=n.p+"img/3dc2259.png"},1331:function(t,e,n){"use strict";var r=n(1144);n.n(r).a},1463:function(t,e,n){"use strict";n(13);var r=n(2),c=n(1),l=n(10),o={props:{challenge:{type:Object,required:!0},userStatus:{type:Object,default:function(){return{}}}},methods:Object(c.a)({},Object(l.b)("course",["showStartLabLoading","startLab"]),{startChallenge:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:/contests/.test(this.challenge.parent.html_url)?window.location.href=/\/contests\/\w+/.exec(this.challenge.parent.html_url)[0]+"/challenging/?id="+this.challenge.id:window.location.href=this.challenge.parent.html_url+"/learning/?id="+this.challenge.id;case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()})},h=(n(1331),n(5)),component=Object(h.a)(o,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"challenge"},[r("div",{staticClass:"challenge-header"},[r("h4",{staticClass:"challenge-title"},[t.userStatus&&t.userStatus.specific_status&&t.userStatus.specific_status.is_passed?r("img",{attrs:{src:n(1329)}}):r("img",{attrs:{src:n(1330)}}),t._v(" "),r("span",{staticClass:"contest-challenge-name"},[t._v("\n        "+t._s(t.challenge.name)+"\n      ")]),t._v(" "),t._l(t.challenge.tags,function(e){return r("span",{key:e,staticClass:"contest-challenge-label"},[t._v("\n        "+t._s(e)+"\n      ")])}),t._v(" "),t.$auth.loggedIn?r("b-btn",{staticClass:"btn btn-primary start-btn",on:{click:t.startChallenge}},[t._v("\n        开始挑战\n      ")]):r("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.sign-modal",modifiers:{"sign-modal":!0}}],staticClass:"btn btn-primary start-btn"},[t._v("\n        开始挑战\n      ")]),t._v(" "),r("nuxt-link",{staticClass:"btn btn-default start-btn see-title",attrs:{to:"/challenges/"+t.challenge.id+"/"}},[t._v("\n        查看题目\n      ")])],2),t._v(" "),r("div",{staticClass:"challenge-meta"},[r("span",{staticClass:"challenge-meta-level"},[t._v("\n        难度："+t._s(t.challenge.specific_lab&&t.challenge.specific_lab.level)+"\n      ")]),t._v(" "),r("span",{staticClass:"challenge-meta-level"},[t._v("\n        分数："+t._s(t.challenge.specific_lab&&t.challenge.specific_lab.score)+"\n      ")]),t._v(" "),r("span",{staticClass:"challenge-meta-percent"},[t._v("\n        通过率："+t._s(t.challenge.specific_lab&&t.challenge.specific_lab.statistics.pass_rate)+"%\n      ")]),t._v(" "),t.userStatus&&t.userStatus.specific_status&&t.userStatus.specific_status.submissions_count?[t.userStatus.specific_status.is_passed?[r("span",{staticClass:"challenge-tag-pass"},[t._v("\n            PASS\n          ")]),t._v(" "),r("nuxt-link",{staticClass:"answers-link",attrs:{to:"/challenges/"+t.challenge.id+"/answers/"}},[t._v("\n            查看答案\n          ")])]:r("span",{staticClass:"challenge-tag-fail"},[t._v("\n          FAIL\n        ")])]:t._e(),t._v(" "),r("span",{staticClass:"pull-right challente-meta-users"},[t._v("\n        "+t._s(t.challenge.specific_lab&&t.challenge.specific_lab.statistics.challengers_count)+" 人挑战\n      ")])],2)])])},[],!1,null,"56dbbe6b",null);e.a=component.exports},1499:function(t,e,n){},1500:function(t,e,n){},1501:function(t,e,n){},1502:function(t,e,n){},1503:function(t,e,n){},1504:function(t,e,n){},1505:function(t,e,n){},2082:function(t,e,n){"use strict";var r=n(1499);n.n(r).a},2083:function(t,e,n){"use strict";var r=n(1500);n.n(r).a},2084:function(t,e,n){"use strict";var r=n(1501);n.n(r).a},2085:function(t,e,n){"use strict";var r=n(1502);n.n(r).a},2086:function(t,e,n){var map={"./users-top-rank-1.png":2087,"./users-top-rank-2.png":2088,"./users-top-rank-3.png":2089,"./users-top-rank-4.png":2090,"./users-top-rank-5.png":2091};function r(t){var e=c(t);return n(e)}function c(t){if(!n.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}r.keys=function(){return Object.keys(map)},r.resolve=c,t.exports=r,r.id=2086},2087:function(t,e,n){t.exports=n.p+"img/93f24b3.png"},2088:function(t,e,n){t.exports=n.p+"img/6eb5673.png"},2089:function(t,e,n){t.exports=n.p+"img/7239bf0.png"},2090:function(t,e,n){t.exports=n.p+"img/875ce67.png"},2091:function(t,e,n){t.exports=n.p+"img/73f49ad.png"},2092:function(t,e,n){"use strict";var r=n(1503);n.n(r).a},2093:function(t,e,n){"use strict";var r=n(1504);n.n(r).a},2094:function(t,e,n){"use strict";var r=n(1505);n.n(r).a},2890:function(t,e,n){"use strict";n.r(e);n(13);var r=n(2),c=n(1),l=n(10),o={data:function(){return{numbers:["first","second","third","four","five"],classNames:["user-rank-img","user-rank-medal"]}},computed:Object(c.a)({},Object(l.d)("contest",{rank_list:function(t){return t.contest_rank.results}}))},h=(n(2082),n(5)),_=Object(h.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"newest-contest-rank"},[n("nuxt-link",{attrs:{to:"#"}},[t._v("\n    楼赛 第22期排行榜\n  ")]),t._v(" "),n("div",{staticClass:"newest-contest-content"},t._l(t.rank_list,function(e,r){return n("nuxt-link",{key:r,attrs:{to:"/users/"+e.user.id}},[n("div",{staticClass:"user-img"},[n("img",{attrs:{src:e.user.avatar_url}})]),t._v(" "),n("span",{staticClass:"user-name"},[t._v("\n        "+t._s(e.user.name)+"\n      ")]),t._v(" "),n("span",{staticClass:"user-level"},[t._v("\n        L"+t._s(e.user.level)+"\n      ")]),t._v(" "),n("span",{staticClass:"user-ranking pull-right"},[n("img",{class:[e.rank>2?"user-rank-img":"user-rank-medal"],attrs:{src:"https://static.shiyanlou.com/img/contest-"+t.numbers[e.rank-1]+".png",alt:"排名徽章"}})])])}),1)],1)},[],!1,null,"9e4785a2",null).exports,f={components:{ChallengeItem:n(1463).a},data:function(){return{tags:["Python","Linux","C","Java","云计算"]}},computed:Object(c.a)({},Object(l.d)("challenge",{challenges:function(t){return t.challenges},userStatus:function(t){return t.challengesStatus}}))},v=(n(2083),Object(h.a)(f,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),t._v(" "),n("div",{staticClass:"contests"},[n("h2",[n("nuxt-link",{staticClass:"challenge-hot-title",attrs:{to:"/challenges/"}},[t._v("\n        热门挑战题\n      ")]),t._v(" "),t._l(t.tags,function(e,r){return n("nuxt-link",{key:r,staticClass:"challenge-tags",attrs:{to:"/challenges/?tags="+e}},[t._v("\n        "+t._s(e)+"\n      ")])}),t._v(" "),n("nuxt-link",{staticClass:"pull-right challenge-tags",attrs:{to:"/challenges/"}},[t._v("\n        更多\n      ")])],2),t._v(" "),t.challenges&&t.challenges.results?n("div",{staticClass:"challenge-content"},t._l(t.challenges.results,function(e,r){return n("challenge-item",{key:r,attrs:{challenge:e,"user-status":t.userStatus&&t.userStatus[r]}})}),1):t._e()])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"contests"},[e("h2",[this._v("\n      开放中\n      "),e("span",[this._v("\n        （立即加入，排行榜实时更新）\n      ")])])])}],!1,null,"5725db58",null).exports),d={},m=(n(2084),Object(h.a)(d,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"past-contest-header"},[e("nuxt-link",{staticClass:"past-contest-title",attrs:{to:"/contests/history"}},[this._v("\n    往期比赛\n  ")]),this._v(" "),e("nuxt-link",{staticClass:"pull-right past-contest-more",attrs:{to:"/contests/history"}},[this._v("\n    更多\n  ")])],1)},[],!1,null,"f165d2cc",null).exports),k={props:{contest:{type:Object,default:function(){return{}}}}},C=(n(2085),Object(h.a)(k,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nuxt-link",{staticClass:"past-contest-info",attrs:{to:"/contests/"+t.contest.slug+"/challenges"}},[n("span",{staticClass:"past-contest-name"},[t._v("\n    "+t._s(t.contest.name)+"\n  ")]),t._v(" "),n("span",{staticClass:"past-contest-tags"},[t._v("\n    "+t._s(t.contest.subject)+"\n  ")]),t._v(" "),n("span",{staticClass:"pull-right contest-number"},[t._v("\n    "+t._s(t.contest.users_count)+"人参赛\n  ")])])},[],!1,null,"fb8fe5f0",null).exports),x={props:{rank:{type:Object,required:!0}}},j=(n(2092),{components:{PastContestHeader:m,PastContestItem:C,ContestRankUser:Object(h.a)(x,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nuxt-link",{staticClass:"contest-rank-user",attrs:{to:"/users/"+t.rank.user.id}},[r("img",{staticClass:"user-img",attrs:{src:t.rank.user.avatar_url}}),t._v(" "),r("div",{staticClass:"user-info-detials"},[r("p",{staticClass:"user-info"},[r("span",{staticClass:"user-info-name"},[t._v("\n        "+t._s(t.rank.user.name)+"\n      ")]),t._v(" "),r("span",{staticClass:"user-level"},[t._v("\n        L"+t._s(t.rank.user.level)+"\n      ")])]),t._v(" "),r("p",{staticClass:"user-score"},[r("span",{staticClass:"total-score"},[t._v("\n        "+t._s(t.rank.total_score)+"分\n      ")]),t._v(" "),r("span",{staticClass:"total-score"},[t._v("\n        ("+t._s(t.rank.joined_contest_count)+"场)\n      ")])])]),t._v(" "),r("span",{staticClass:"user-rank"},[r("img",{attrs:{src:n(2086)("./users-top-rank-"+t.rank.rank+".png")}})])])},[],!1,null,"697d885e",null).exports},props:{contests:{type:Object,required:!0},contestsRank:{type:Array,required:!0}},data:function(){return{currentRank:null}},mounted:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=this.$auth.user.id,t.next=4,this.$ajax.get(this.$urls.contestsRank,{user_id:e});case 4:(n=t.sent).ok&&(this.currentRank=n.data[0]),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])}));return function(){return t.apply(this,arguments)}}(),methods:Object(c.a)({},Object(l.b)("contest",["getContestsRank"]))}),y=(n(2093),{components:{ContestRank:_,ContestContent:v,ContestSide:Object(h.a)(j,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"contest-side-body"},[n("past-contest-header"),t._v(" "),n("side-box",{attrs:{"has-footer":!1}},[n("template",{slot:"box-body-content"},t._l(t.contests.results,function(t,e){return n("past-contest-item",{key:e,attrs:{contest:t}})}),1)],2),t._v(" "),n("side-img",{attrs:{src:"https://static.shiyanlou.com/img/contest_slide_banner1.png",link:"http://cn.mikecrm.com/WCv7Zcx"}}),t._v(" "),t.$auth.loggedIn&&t.currentRank?n("side-box",{attrs:{"box-title":"积分榜比赛总排名","has-footer":!1}},[n("template",{slot:"box-body-content"},[n("div",{staticClass:"contest-rank-user-body"},[n("contest-rank-user",{staticClass:"contest-rank-user-root current-rank",attrs:{rank:t.currentRank}})],1)])],2):t._e(),t._v(" "),n("side-box",{attrs:{"box-title":t.$auth.loggedIn&&t.currentRank?"":"积分榜比赛总榜","has-footer":!1}},[n("template",{slot:"box-body-content"},[n("div",{staticClass:"contest-rank-user-body"},t._l(t.contestsRank,function(t,e){return n("contest-rank-user",{key:e,staticClass:"conetst-rank-user-root",attrs:{rank:t}})}),1)])],2)],1)},[],!1,null,"476e077d",null).exports},computed:Object(c.a)({},Object(l.d)("contest",{contests:function(t){return t.contests},contestsRank:function(t){return t.contests_rank}}),Object(l.d)("challenge",{challenges:function(t){return t.challenges}})),watch:{challenges:function(t){this.getUserStatus(t)}},asyncData:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(e){var n,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e.store,c=function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.dispatch("challenge/getChallenges");case 2:return t.next=4,n.dispatch("contest/getContests",{status:"finished",page_size:6,sort:"newest"});case 4:return t.next=6,n.dispatch("contest/getContestRank",{contest_slug:"lou22",page_size:5,init:!0});case 6:return t.next=8,n.dispatch("contest/getContestsRank",{limit:5});case 8:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.next=5;break;case 5:c();case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),mounted:function(){this.getUserStatus(this.challenges)},methods:Object(c.a)({},Object(l.b)("challenge",["getChallengesStatus"]),{getUserStatus:function(t){if(!this.$auth.loggedIn)return!1;try{var e=t.results.map(function(t){return t.id});this.getChallengesStatus(e.join(","))}catch(t){console.log(t)}}}),head:{title:"编程比赛_编程能力测试_IT挑战_实验楼比赛"}}),O=(n(2094),Object(h.a)(y,function(){var t=this.$createElement,e=this._self._c||t;return e("full-page",[e("div",{staticClass:"contests-banner"},[e("b-container",[e("contest-rank",{staticClass:"pull-right"})],1)],1),this._v(" "),e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-9 layout-col-lg-9"},[e("contest-content")],1),this._v(" "),this.contests&&this.contestsRank?e("div",{staticClass:"col-lg-3 side"},[e("contest-side",{attrs:{contests:this.contests,"contests-rank":this.contestsRank}})],1):this._e()])])])},[],!1,null,"760721f4",null));e.default=O.exports}}]);